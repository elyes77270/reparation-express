{% extends 'base.html.twig' %}

{% block title %}Confirmation Réparation{% endblock %}

{% block body %}
    {% include 'layout/nav.html.twig'%}
    <section class="py-5">
        <div class="container py-5">
            <div class="row mb-5">
                <div class="col-md-8 col-xl-6 col-xxl-7 text-center mx-auto">
                    <h2 class="fw-bold">Confirmation de la réparation</h2>
                    <p class="text-muted">4 - Renseignez vos informations </p>
                </div>
            </div>
            <div class="row row-cols-1 row-cols-md-2 mx-auto" style="max-width: 900px;">
                <div class="col-lg-4 col-xl-4 col-xxl-4 mb-4" data-aos="flip-up">
                    <div>
                        <a href="#">
                            <img class="rounded img-fluid shadow w-100 fit-cover" src="{{ asset('uploads/images/' ~ telephone.image) }}">
                        </a>
                        <div class="py-4 text-center">
                            <h4 class="fw-bold device-font">{{ telephone.nom }}</h4>
                        </div>
                    </div>
                </div>
                <div class="col-lg-8 col-xl-8 col-xxl-8 mb-4" data-aos="flip-up">
                    <h4 class="fw-bold mb-4 text-center">Réparation de mon {{ marque.nom }} {{ telephone.nom }}</h4>
                    <ul class="list-group">
                        {% for composant in selectedComponents %}
                            <li class="list-group-item">
                                {{ composant.composant.nom }} - <span class="fw-bold">{{ composant.prix }} €</span>
                            </li>
                        {% endfor %}
                        <li class="list-group-item">
                            <h5 class="fw-bold">Prix Total - {{ totalPrix }} €</h5>
                        </li>
                    </ul>

                    <section class="py-4">
                        <div class="container">
                            <div class="border rounded border-0 d-flex flex-column justify-content-between align-items-center flex-lg-row bg-primary-gradient p-4 p-lg-4 w-100">
                                {{ form_start(form) }}
                                    <div class="mb-3 text-center">
                                        <h2 class="fw-bold mb-2">Vous y êtes presque ...</h2>
                                        <p class="mb-0">Renseignez vos informations afin d'obtenir votre devis de réparation</p>
                                    </div>
                                    <div class="my-2">
                                        {{ form_row(form.email) }}
                                    </div>
                                    <div class="my-2">
                                        {{ form_row(form.tel) }}
                                    </div>
                                    <div class="my-2">
                                        {{ form_row(form.promo_email) }}
                                    </div>
                                    <div class="my-2">
                                        {{ form_row(form.pub_email) }}
                                    </div>
                                    <div class="my-2 text-center"><button class="btn btn-primary shadow ms-2" type="submit">Valider</button></div>
                                {{ form_end(form) }}
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </section>
    {% include 'layout/footer.html.twig'%}
{% endblock %}
